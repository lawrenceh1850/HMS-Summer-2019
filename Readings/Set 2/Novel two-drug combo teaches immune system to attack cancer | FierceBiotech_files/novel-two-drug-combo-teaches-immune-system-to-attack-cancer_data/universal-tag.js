'use strict';(function(){function u(a,b){b=n(b);b.anchor=a.child.frameElement;a=a.ancestor;a.prontoTags=a.prontoTags||[];a.prontoTags.push(b);p(a,b);q(b)}function v(a){a=n(a);r(window,String(a.iframeBusterURL||"").replace(/^https?:\/\//,"//")+"#"+encodeURIComponent(JSON.stringify(a)))}function t(a){var b=a.anchor&&a.anchor.tagName;if("IFRAME"===b)q(a);else if("SCRIPT"!==b){if(a.id){b=document.getElementsByTagName("script");for(var d=0;d<b.length;d++){var h=(b[d].text||"").replace(/\s/g,"").match(/prontoTag=.*[{,]id:["']?([0-9a-zA-Z]+)["']?[,}]/);
h&&h[1]===a.id&&(a.anchor=b[d])}}a.anchor=a.anchor||a.lastScript}p(window,a)}function n(a){var b={},d;for(d in a)"processed"!==d&&"lastScript"!==d&&"anchor"!==d&&(b[d]=a[d]);return b}function w(){var a=self;do{var b=a;a=a.parent;try{a.document.location;var d={ancestor:a,child:b}}catch(h){}}while(a!==top);return d}function p(a,b){function d(a){return a.filter(function(a,b,d){return d.indexOf(a)===b})}a.ProntoCE=a.ProntoCE||{};x(a,b);y(a);var h="//"+b.server+"/",f=function(a){a(b)};if(b.id){var e=[];
b._simulationId&&e.push("simulation\x3dtrue");b.section&&e.push("section\x3d"+encodeURIComponent(b.section));a.ProntoCE.modules.loadAndCache(h+"creative/"+b.id+"/creative-delivery.js"+(0<e.length?"?"+e.join("\x26"):""),"C_"+b.id,f)}else{e=["rnd\x3d"+(Math.floor(900*Math.random())+100)];b.section&&e.push("section\x3d"+encodeURIComponent(b.section));if(b.keyValues)for(k in b.keyValues)e.push(encodeURIComponent(k)+"\x3d"+encodeURIComponent(b.keyValues[k].join()));b.formats&&0<b.formats.length&&e.push("formats\x3d"+
encodeURIComponent(b.formats.join()));if(b.semanticClassifiers){var g=b.semanticClassifiers;0<g.not.length&&e.push("not\x3d"+encodeURIComponent(d(g.not).join()));var c=[],k;for(k in g.or)c.push(k+","+g.or[k]);0<c.length&&e.push("or\x3d"+encodeURIComponent(c.join("!")))}g=(new Date).getTimezoneOffset();e.push("user-offset\x3d"+g);a.ProntoCE.modules.load(h+"inventory/"+b.publisher+"/"+b.inventory+"/delivery.js?"+e.join("\x26"),f)}}function r(a,b){var d=a.document.createElement("iframe");d.style.cssText=
"position:absolute !important;width:1px !important;height:1px !important;left:-1000px !important";d.src=b;a.document.body.insertBefore(d,a.document.body.firstChild);return d}function q(a){!1!==a.iframeBusterHideIframe&&(a.anchor.style.display="none")}function x(a,b){var d;if(!(d=!a.postMessage||!a.JSON)){try{localStorage.setItem("test","test");localStorage.removeItem("test");var c=!0}catch(f){c=!1}d=!c}d||(d=a.ProntoCE,b._storageId="Pronto_"+b.server,d.storage=d.storage||{},d.storage[b.server]||(r(a,
"//"+b.server+"/tag/storage-delegate.html").id=b._storageId,d.storage[b.server]=!0))}function y(a){function b(b,f,e){var c=a.document.createElement("script");c.src=b;c.type="text/javascript";a.document.body.insertBefore(c,a.document.body.firstChild);d.modules._pending.push({script:c,callback:f});e&&e(c)}var d=a.ProntoCE;d.modules=d.modules||{_cache:{},_pending:[],load:function(a,d,c){b(a,d,c)},loadAndCache:function(a,c,e,g){function f(){d.modules._cache[c].listeners.push(function(a){e(a)})}this._cache[c]?
"LOADING..."===this._cache[c].module?f():e(this._cache[c].module):(this._cache[c]={listeners:[],module:"LOADING..."},f(),b(a,function(a){d.modules._cache[c].module=a;for(var b=0;b<d.modules._cache[c].listeners.length;b++)d.modules._cache[c].listeners[b](a);delete d.modules._cache[c].listeners},g))},set:function(a,b){var c=[];if(b.tagName)c.push(b);else{var g=b.error.stack.match(/https?:(\/\/[^:]+):/);if(g)for(var f=0;f<b.scripts.length;f++)b.scripts[f].src.replace(/^https?:/,"")===g[1]&&c.push(b.scripts[f])}b=
d.modules._pending;for(g=0;g<b.length;g++)for(f=0;f<c.length;f++)if(b[g].script===c[f]){b[g].callback(a);b.splice(g,1);return}}}}for(var m=0;m<window.prontoTags.length;m++){var c=window.prontoTags[m];if(!c.processed)if(c.processed=!0,c.section=String(c.section||""),c.trackingPixels=c.trackingPixels||{},c.landingPages=c.landingPages||{},c.macros=c.macros||[],top===window||c.iframeBusterDisable)t(c);else{var l=w();!c.iframeBusterURL||l&&l.ancestor===top?l?u(l,c):t(c):v(c)}}})();